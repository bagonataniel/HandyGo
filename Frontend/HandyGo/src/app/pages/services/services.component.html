<app-navbar></app-navbar>
<div class="service-hero">
  <div class="container">
    <div class="hero-content">
      <div class="avatar-wrapper">
        <a [routerLink]="['/users', serviceData?.worker_id]" class="avatar-link" *ngIf="serviceData?.worker_id">
          <div class="avatar">
            {{ workerName.charAt(0) || '?' }}
          </div>
        </a>
      </div>

      <div class="main-info">
        <div class="category-pill">
          {{ serviceData?.category || 'Ismeretlen' }}
        </div>
        
        <h1 class="worker-name">
          <a [routerLink]="['/users', serviceData?.worker_id]" *ngIf="serviceData?.worker_id" class="no-underline">
            {{ workerName || 'Ismeretlen szolgáltató' }}
          </a>
          <ng-container *ngIf="!serviceData?.worker_id">
            {{ workerName || 'Ismeretlen szolgáltató' }}
          </ng-container>
        </h1>

        <div class="meta-line">
          <span class="email">{{ workerEmail || 'email@example.com' }}</span>
          <span class="dot">•</span>
          <span class="coordinates" *ngIf="serviceData?.latitude && serviceData?.longitude">
            <mat-icon>my_location</mat-icon>
            {{ serviceData.latitude || 'Ismeretlen szolgáltató' }}° × {{ serviceData.longitude || 'Ismeretlen szolgáltató' }}°
          </span>
          <br>
          <div class="rating" *ngIf="rating">
            <mat-icon aria-hidden="false" fontIcon="{{star === 'full' ? 'star' : star === 'half' ? 'star_half' : 'star_border'}}" *ngFor="let star of getStars(rating)"></mat-icon>
          </div>
          <div class="rating" *ngIf="!rating"><span>Nincs értékelés</span></div>
        </div>
      </div>

      <div class="price-cta">
        <div class="price">
          {{ serviceData?.price ? serviceData.price + ' Ft' : 'Ár kérhető' }}
        </div>
        <button mat-raised-button color="primary" (click)="bookService()" class="book-btn" *ngIf="serviceData?.worker_id != myUserId">
          Foglalás most
        </button>
      </div>
    </div>
  </div>
</div>

<div class="container content-section">
  <div class="description-block">
    <h2>Leírás</h2>
    <div class="description">
      <p>{{ serviceData?.description || 'Nincs részletes leírás még...' }}</p>
    </div>
  </div>
</div>

<app-footer></app-footer>